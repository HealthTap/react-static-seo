{"version":3,"sources":["../../../src/static/components/BodyWithMeta.js"],"names":["REGEX_FOR_SCRIPT","generateRouteInformation","__html","JSON","stringify","replace","makeBodyWithMeta","head","route","embeddedRouteInfo","clientScripts","children","rest","bodyProps","redirect","path","map","script","process","env","REACT_STATIC_ASSETS_PATH"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;AAEA,IAAMA,gBAAgB,GAAG,kBAAzB;;AAEA,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B;AAAA,SAAO;AACtCC,IAAAA,MAAM,uCACmBC,IAAI,CAACC,SAAL,CAAe,EAAf,EAAmBC,OAAnB,CACrBL,gBADqB,EAErB,UAFqB,CADnB;AADgC,GAAP;AAAA,CAAjC,C,CAQA;AACA;AACA;;;AACO,IAAMM,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,MAC9BC,IAD8B,QAC9BA,IAD8B;AAAA,MAE9BC,KAF8B,QAE9BA,KAF8B;AAAA,MAG9BC,iBAH8B,QAG9BA,iBAH8B;AAAA,gCAI9BC,aAJ8B;AAAA,MAI9BA,aAJ8B,mCAId,EAJc;AAAA,SAK1B;AAAA,QAAGC,QAAH,SAAGA,QAAH;AAAA,QAAgBC,IAAhB;;AAAA,WACJ,kDAAUL,IAAI,CAACM,SAAf,EAA8BD,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QACGD,QADH,EAEG,CAACH,KAAK,CAACM,QAAP,IAAmBN,KAAK,CAACO,IAAN,KAAe,KAAlC,IACC;AACE,MAAA,IAAI,EAAC,iBADP;AAEE,MAAA,uBAAuB,EAAEd,wBAAwB,CAACQ,iBAAD,CAFnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAQG,CAACD,KAAK,CAACM,QAAP,IAAmBN,KAAK,CAACO,IAAN,KAAe,KAAlC,IACCL,aAAa,CAACM,GAAd,CAAkB,UAAAC,MAAM;AAAA,aACtB;AACE,QAAA,GAAG,EAAEA,MADP;AAEE,QAAA,KAAK,MAFP;AAGE,QAAA,IAAI,EAAC,iBAHP;AAIE,QAAA,GAAG,EAAE,6BACH,qBAASC,OAAO,CAACC,GAAR,CAAYC,wBAArB,EAA+CH,MAA/C,CADG,CAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADsB;AAAA,KAAxB,CATJ,CADI;AAAA,GAL0B;AAAA,CAAzB;;;;;;;;;;;;0BAbDjB,gB;0BAEAC,wB;0BAWOK,gB","sourcesContent":["import React from 'react'\nimport { pathJoin, makePathAbsolute } from '../../utils'\n\nconst REGEX_FOR_SCRIPT = /<(\\/)?(script)/gi\n\nconst generateRouteInformation = () => ({\n  __html: `\n    window.__routeInfo = ${JSON.stringify({}).replace(\n      REGEX_FOR_SCRIPT,\n      '<\"+\"$1$2'\n    )};`,\n})\n\n// Not only do we pass react-helmet attributes and the app.js here, but\n// we also need to  hard code site props and route props into the page to\n// prevent flashing when react mounts onto the HTML.\nexport const makeBodyWithMeta = ({\n  head,\n  route,\n  embeddedRouteInfo,\n  clientScripts = []\n}) => ({ children, ...rest }) => (\n  <body {...head.bodyProps} {...rest}>\n    {children}\n    {!route.redirect && route.path === '404' && (\n      <script\n        type=\"text/javascript\"\n        dangerouslySetInnerHTML={generateRouteInformation(embeddedRouteInfo)}\n      />\n    )}\n    {!route.redirect && route.path === '404' &&\n      clientScripts.map(script => (\n        <script\n          key={script}\n          defer\n          type=\"text/javascript\"\n          src={makePathAbsolute(\n            pathJoin(process.env.REACT_STATIC_ASSETS_PATH, script)\n          )}\n        />\n      ))}\n  </body>\n)\n"],"file":"BodyWithMeta.js"}